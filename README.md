# Subscriptions for Rails

This gem helps with building services which have paid subscriptions. It includes the models to store subscription status, and provides integration with PayPal for paid subscriptions.

## Assumptions

SubscriptionFu makes the following assumptions on how subscriptions are used:

 * There is a subscription subject, i.e. a user or some other object which needs a subscription in order to access your site. In the examples below we'll use "group".

 * You have a subscription initiator, which is usually the user object. In the examples below we'll use "user"

## Installation

Add to your Gemfile:

    gem 'subscription_fu', :git => "git://github.com/mobalean/subscription_fu.git"

Run "bundle install".

Then install the required files:

    rails g subscription_fu:install

## Configuration

 1. Edit config/initializers/subscription\_fu.rb (generated by the install generator)

 2. Add "needs\_subscription" to the subscription subject:

        class Group < ActiveRecord::Base
          needs_subscription
          ...
        end

 3. Create subscriptions and transactions controllers and views, for example see examples

## Using the subscriptions

Once setup, your subscription subject (the group in our example) will get a couple new methods. To check whether or not it has a subscription, use:

    group.active_subscription?

For getting the group's plan, you can simply use:

    group.subscription_plan

Which will give you an instance of the subscription plan as defined in the initializer.

For more details, see SubscriptionFu::Models

